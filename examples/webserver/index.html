<!DOCTYPE HTML>
<html lang="en" ng-app="example">
	<head>
		<title>MoonGen</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>

	<body>
		<div id="center">
			<div id="header"><h1>MoonGen</h1></div>


			<div ng-controller='ExampleCtrl'>
				<div id="chart">
					<h3>Latency</h3>
					<linechart data="data" options="options"></linechart>
					<!--
					<button ng-click="addData()">Add Data</button>
					-->
				</div>

				<div id="sidebar">
					<h3>Calculation of cable length</h3>
					<table>
						<tr><td style="font-weight: bold;">Measured values:</td><td></td><td></td></tr>
						<tr><td>Latest latency:</td><td style="text-align: right;">{{latestLatency.toFixed(0)}}</td><td>ns</td></tr>

						<tr><td style="font-weight: bold;padding-top:1em">Constants:</td><td></td><td></td></tr>
						<tr><td>X540 modulation time:</td><td style="text-align: right;">{{averageModulationTimeInNs.toFixed(0)}} &plusmn; {{averageModulationTimeInNsUncertainty}}</td><td>ns</td></tr>
						<!--
						<tr><td>Speed of Light in Copper:</td><td style="text-align: right;">{{speedOfLightInMPerSInCopper.toFixed(0)}} &plusmn; {{speedOfLightInMPerSInCopperUncertainty}}</td><td>m/s</td></tr>
						-->
						<tr><td>Speed of Light in Copper:</td><td style="text-align: right;">{{copperFactor}} &plusmn; {{copperFactorUncertainty}}</td><td>c</td></tr>

						<tr><td style="font-weight: bold;padding-top:1em;">Calculated values:</td><td></td><td></td></tr>
						<tr><td>Length of cable:</td><td  style="text-align: right;">{{lengthOfCableInMAvg.toFixed(1)}} &plusmn; {{((lengthOfCableInMMax - lengthOfCableInMMin)/2).toFixed(1)}}</td><td>m</td></tr>
						<tr><td>Length of cable:</td><td  style="text-align: right;">{{lengthOfCableInFeetAvg.toFixed(1)}} &plusmn; {{((lengthOfCableInFeetMax - lengthOfCableInFeetMin)/2).toFixed(1)}}</td><td>ft</td></tr>
					</table>
				</div>
			</div>

			<script src="./lib/moment.min.js"></script>
			<script src="./lib/angular.min.js"></script>
			<script src="./lib/d3.min.js"></script>
			<script src="./lib/line-chart.js"></script>
			<script src="./app.js"></script>

		</div>
	</body>
</html>
